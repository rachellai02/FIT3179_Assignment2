{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "vconcat": [
        {
            "title": "Number of Deaths by Death Causes in 2010-2019",
            "data": {
                "url": "https://raw.githubusercontent.com/rachellai02/FIT3179_Assignment2/master/data/agg-number-of-deaths-by-risk-factor.csv"
            },
            "encoding": {
                "color": {
                    "condition": {
                        "param": "time_brush",
                        "title": "Death Causes",
                        "field": "Death_cause",
                        "type": "nominal",
                        "scale": {
                            "domain": [
                                "High Systolic Blood Pressure",
                                "Smoking",
                                "High Fasting Plasma Glucose",
                                "Air Pollution",
                                "Obesity", 
                                "High Ldl Cholesterol",
                                "Ambient Particulate Matter Pollution",
                                "Alcohol Use",
                                "Household Air Pollution From Solid Fuels",
                                "Diet High In Sodium"
                            ]
                        }
                    },
                    "value": "lightgray"
                },
                "x": {
                    "field": "Year",
                    "timeUnit": "yearmonth",
                    "title": "Year",
                    "axis": {
                        "format": "%Y"
                    }
                },
                "y": {
                    "title": "Number of Deaths",
                    "aggregate": "sum",
                    "field": "Number_of_deaths",
                    "type": "quantitative"
                },
                "tooltip": [
                    {
                        "field": "Number_of_deaths",
                        "type": "quantitative"
                    },
                    {
                        "field": "Death_cause",
                        "type": "nominal"
                    },
                    {
                        "field": "Year",
                        "timeUnit": "year",
                        "title": "Year"
                    }
                ]
            },
            "width": 300,
            "height": 300,
            "mark": "area",
            "params": [
                {
                    "name": "time_brush",
                    "select": {
                        "type": "interval",
                        "encodings": [
                            "x"
                        ]
                    }
                }
            ]
        },
        {
            "title": "Total Number of Deaths by Death Causes by Year",
            "data": {
                "url": "https://raw.githubusercontent.com/rachellai02/FIT3179_Assignment2/master/data/agg-number-of-deaths-by-risk-factor.csv"
            },
            "encoding": {
                "color": {
                    "condition": {
                        "param": "click",
                        "field": "Death_cause",
                        "scale": {
                            "domain": [
                                "High Systolic Blood Pressure",
                                "Smoking",
                                "High Fasting Plasma Glucose",
                                "Air Pollution",
                                "Obesity", 
                                "High Ldl Cholesterol",
                                "Ambient Particulate Matter Pollution",
                                "Alcohol Use",
                                "Household Air Pollution From Solid Fuels",
                                "Diet High In Sodium"
                            ]
                        }
                    },
                    "value": "lightgray"
                },
                "x": {
                    "field": "Number_of_deaths",
                    "type": "quantitative",
                    "title": "Number of Deaths"
                },
                "y": {
                    "title": "Death Causes",
                    "field": "Death_cause",
                    "type": "nominal"
                },
                "tooltip": [
                    {
                        "field": "Number_of_deaths",
                        "type": "quantitative"
                    },
                    {
                        "field": "Death_cause",
                        "type": "nominal"
                    },
                    {
                        "field": "Year",
                        "timeUnit": "year",
                        "title": "Year"
                    }
                ]
            },
            "width": 300,
            "height": 100,
            "mark": "bar",
            "params": [
                {
                    "name": "click",
                    "select": {
                        "type": "point",
                        "encodings": [
                            "color"
                        ]
                    }
                }
            ],
            "transform": [
                {
                    "filter": {
                        "param": "time_brush"
                    }
                }
            ]
        }
    ]
}