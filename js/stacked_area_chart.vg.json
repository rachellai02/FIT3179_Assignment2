{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "vconcat": [
        {
            "title": "Number of Deaths by Death Causes in 2015-2019",
            "data": {
                "url":"https://raw.githubusercontent.com/rachellai02/FIT3179_Assignment2/master/data/top11-number-of-deaths-by-risk-factor(cleaned).csv"
            },
            "encoding": {
                "color": {
                    "condition": {
                        "param": "time_brush",
                        "title": "Death Causes",
                        "field": "Death_cause",
                        "type": "nominal",
                        "scale": {
                            "domain": [
                                "Air Pollution",
                                "Alcohol Use",
                                "Ambient Particulate Matter Pollution",
                                "Diet High In Sodium",
                                "High Fasting Plasma Glucose",
                                "High Ldl Cholesterol",
                                "High Systolic Blood Pressure",
                                "Household Air Pollution From Solid Fuels",
                                "Low Birth Weight",
                                "Obesity",
                                "Smoking"
                            ]
                        }
                    },
                    "value": "lightgray"
                },
                "x": {
                    "field": "Year",
                    "timeUnit": "yearmonth",
                    "title": "Year",
                    "axis": {
                        "format": "%Y"
                    }
                },
                "y": {
                    "title": "Number of Deaths",
                    "aggregate": "sum",
                    "field": "Number_of_deaths",
                    "type": "quantitative"
                },
                "tooltip": [
                    {
                        "field": "Number_of_deaths",
                        "type": "quantitative",
                        "format": ",d"
                    },
                    {
                        "field": "Death_cause",
                        "type": "nominal"
                    },
                    {
                        "field": "Year",
                        "timeUnit": "year",
                        "title": "Year"
                    }
                ]
            },
            "width": 400,
            "height": 300,
            "mark": "area",
            "params": [
                {
                    "name": "time_brush",
                    "select": {
                        "type": "interval",
                        "encodings": [
                            "x"
                        ]
                    }
                }
            ]
        },
        {
            "title": ["Total Number of Deaths by Death Causes by Year",
        "(Brush over the stacked area chart above to select years)"],
            "data": {
                "url": "https://raw.githubusercontent.com/rachellai02/FIT3179_Assignment2/master/data/top11-number-of-deaths-by-risk-factor(cleaned).csv"
            },
            "encoding": {
                "color": {
                    "condition": {
                        "param": "click",
                        "field": "Death_cause",
                        "scale": {
                            "domain": [
                                "Air Pollution",
                                "Alcohol Use",
                                "Ambient Particulate Matter Pollution",
                                "Diet High In Sodium",
                                "High Fasting Plasma Glucose",
                                "High Ldl Cholesterol",
                                "High Systolic Blood Pressure",
                                "Household Air Pollution From Solid Fuels",
                                "Low Birth Weight",
                                "Obesity",
                                "Smoking"
                            ]
                        }
                    },
                    "value": "lightgray"
                },
                "x": {
                    "field": "Number_of_deaths",
                    "type": "quantitative",
                    "title": "Number of Deaths"
                },
                "y": {
                    "title": "Death Causes",
                    "field": "Death_cause",
                    "type": "nominal"
                },
                "tooltip": [
                    {
                        "field": "Number_of_deaths",
                        "type": "quantitative",
                        "format": ",d"
                    },
                    {
                        "field": "Death_cause",
                        "type": "nominal"
                    },
                    {
                        "field": "Year",
                        "timeUnit": "year",
                        "title": "Year"
                    }
                ]
            },
            "width": 400,
            "height": 100,
            "mark": "bar",
            "params": [
                {
                    "name": "click",
                    "select": {
                        "type": "point",
                        "encodings": [
                            "color"
                        ]
                    }
                }
            ],
            "transform": [
                {
                    "filter": {
                        "param": "time_brush"
                    }
                }
            ]
        }
    ]
}